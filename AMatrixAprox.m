function y = AMatrixAprox(xinputs)
%take inputs from vector
T=xinputs(1);
DeltaSt=xinputs(2);
DeltaRud=xinputs(3);
DeltaAlL=xinputs(4);
DeltaAlR=xinputs(5);
%take states from vector
u=xinputs(6); 
v=xinputs(7);
w=xinputs(8);
p=xinputs(9);
q=xinputs(10);
r=xinputs(11);
Phi=getAngle(xinputs(12));
Theta=getAngle(xinputs(13));
Psi=getAngle(xinputs(14));

y=[(0.5735*sin(Theta)*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)-1.587*u*cos(Psi)*cos(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)+1.587*u*cos(Theta)*sin(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-1.587*u*sin(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))+(0.04744*cos(Psi)*cos(Theta)*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)-(0.09975*cos(Theta)*sin(Psi)*(imag(u)+real(v))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),r-1.587*v*sin(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))-1.587*v*cos(Psi)*cos(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)+1.587*v*cos(Theta)*sin(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-(0.09975*cos(Theta)*sin(Psi)*(imag(v)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),(0.5735*sin(Theta)*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)-1.587*w*sin(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))-1.587*w*cos(Psi)*cos(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)-1.0*q+1.587*w*cos(Theta)*sin(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))+(0.04744*cos(Psi)*cos(Theta)*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),0,-1.0*w,v,0,9.81*cos(Theta)-0.7937*cos(Theta)*(u^2+v^2+w^2)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))-0.7937*sin(Psi)*sin(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))*(u^2+v^2+w^2)+0.7937*cos(Psi)*sin(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)*(u^2+v^2+w^2),0.7937*cos(Theta)*sin(Psi)*(0.05977*atan2(1.0*w,u)+0.07381)*(u^2+v^2+w^2)+0.7937*cos(Psi)*cos(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))*(u^2+v^2+w^2);
(0.09975*cos(Psi)*(imag(u)+real(v))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2)-1.587*u*sin(Psi)*(0.05977*atan2(1.0*w,u)+0.07381)-1.587*u*cos(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-1.0*r+(0.04744*sin(Psi)*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),(0.09975*cos(Psi)*(imag(v)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2)-1.587*v*cos(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-1.587*v*sin(Psi)*(0.05977*atan2(1.0*w,u)+0.07381),p-1.587*w*sin(Psi)*(0.05977*atan2(1.0*w,u)+0.07381)-1.587*w*cos(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))+(0.04744*sin(Psi)*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),w,0,-1.0*u,-9.81*cos(Phi)*cos(Theta),9.81*sin(Phi)*sin(Theta),0.7937*sin(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))*(u^2+v^2+w^2)-0.7937*cos(Psi)*(0.05977*atan2(1.0*w,u)+0.07381)*(u^2+v^2+w^2);
q-1.587*u*cos(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))+1.587*u*cos(Psi)*sin(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)-1.587*u*sin(Psi)*sin(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))+(0.5735*cos(Theta)*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)-(0.04744*cos(Psi)*sin(Theta)*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)+(0.09975*sin(Psi)*sin(Theta)*(imag(u)+real(v))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),(0.09975*sin(Psi)*sin(Theta)*(imag(v)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2)-1.587*v*cos(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))+1.587*v*cos(Psi)*sin(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)-1.587*v*sin(Psi)*sin(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-1.0*p,(0.5735*cos(Theta)*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2)+1.587*w*cos(Psi)*sin(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)-1.587*w*cos(Theta)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))-1.587*w*sin(Psi)*sin(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))-(0.04744*cos(Psi)*sin(Theta)*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),-1.0*v,u,0,-9.81*cos(Theta)*sin(Phi),-9.81*cos(Phi)*sin(Theta)+0.7937*sin(Theta)*(u^2+v^2+w^2)*(0.04699*DeltaSt+0.01351*DeltaAlL+0.01351*DeltaAlR+0.7225*atan2(1.0*w,u))+0.7937*cos(Psi)*cos(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)*(u^2+v^2+w^2)-0.7937*cos(Theta)*sin(Psi)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))*(u^2+v^2+w^2),-0.7937*sin(Psi)*sin(Theta)*(0.05977*atan2(1.0*w,u)+0.07381)*(u^2+v^2+w^2)-0.7937*cos(Psi)*sin(Theta)*(0.00987*DeltaRud+0.1257*atan2(1.0*v,u))*(u^2+v^2+w^2);
5.919*u*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-0.2583*u*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u))+(0.0002022*(imag(u)+real(v))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),5.919*v*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-0.2583*v*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u))+(0.0002022*(imag(v)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),5.919*w*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-0.2583*w*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u)),0.06715*q,0.06715*p-0.5389*r,-0.5389*q,0,0,0;
-2.174*u*(0.01297*DeltaSt-1.375e-7*atan2(1.0*w,u))-(1.494e-7*(imag(u)+real(w))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),-2.174*v*(0.01297*DeltaSt-1.375e-7*atan2(1.0*w,u)),-2.174*w*(0.01297*DeltaSt-1.375e-7*atan2(1.0*w,u))-(1.494e-7*(imag(w)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(w))^2+(imag(w)-1.0*real(u))^2),0.8261*r-0.1043*p,0,0.8261*p+0.1043*r,0,0,0;
0.2583*u*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-1.829*u*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u))+(0.001433*(imag(u)+real(v))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),0.2583*v*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-1.829*v*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u))+(0.001433*(imag(v)-1.0*real(u))*(u^2+v^2+w^2))/((imag(u)+real(v))^2+(imag(v)-1.0*real(u))^2),0.2583*w*(0.0008107*DeltaAlL-0.0008107*DeltaAlR)-1.829*w*(0.002724*DeltaRud+0.001566*atan2(1.0*v,u)),-0.5243*q,-0.5243*p-0.06715*r,-0.06715*q,0,0,0;
0,0,0,1.0,sin(Phi)*tan(Theta),cos(Phi)*tan(Theta),q*cos(Phi)*tan(Theta)-1.0*r*sin(Phi)*tan(Theta),r*cos(Phi)*(tan(Theta)^2+1.0)+q*sin(Phi)*(tan(Theta)^2+1.0),0;
0,0,0,0,cos(Phi),-1.0*sin(Phi),-1.0*r*cos(Phi)-1.0*q*sin(Phi),0,0;
0,0,0,0,sin(Phi)/cos(Theta),cos(Phi)/cos(Theta),(q*cos(Phi))/cos(Theta)-(1.0*r*sin(Phi))/cos(Theta),(r*cos(Phi)*sin(Theta))/cos(Theta)^2+(q*sin(Phi)*sin(Theta))/cos(Theta)^2,0];

end
